angular.module("brillpos",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$httpProvider",function(t,e,o){e.otherwise("/app/dashboard"),t.state("login",{url:"/login",templateUrl:"templates/login-6147120639ff78d3e8a31fcc63da093.html",controller:"AccountCtrl",data:{cssUrl:"assets/css/login-6147120639ff78d3e8a31fcc63da093.css"},controller:"LoginCtrl"}).state("signup",{url:"/signup",templateUrl:"templates/signup-6147120639ff78d3e8a31fcc63da093.html",data:{cssUrl:"assets/css/signup-6147120639ff78d3e8a31fcc63da093.css"},controller:"SignupCtrl"}).state("signup_success",{url:"/signup-success",templateUrl:"templates/signup_success-6147120639ff78d3e8a31fcc63da093.html"}).state("app",{url:"/app",templateUrl:"templates/shared/app-6147120639ff78d3e8a31fcc63da093.html",controller:"AppCtrl"}).state("app.dashboard",{url:"/dashboard",templateUrl:"templates/dashboard-6147120639ff78d3e8a31fcc63da093.html"}).state("app.product",{url:"/product",templateUrl:"templates/shared/product_index-6147120639ff78d3e8a31fcc63da083.html"}).state("app.product.list",{url:"/list",templateUrl:"templates/product_list-6147120639ff78d3e8a31fcc63da093.html",controller:"ProductCtrl"}).state("app.product.add",{url:"/product/add",parent:"app",templateUrl:"templates/product_form-6147120639ff78d3e8a31fcc63da093.html"}).state("app.product.edit",{url:"/product/:id/edit",parent:"app",templateUrl:"templates/product_form-6147120639ff78d3e8a31fcc63da093.html"}).state("app.product.category",{url:"/category",templateUrl:"templates/categories-6147120639ff78d3e8a31fcc63da093.html"})}]).controller("AppCtrl",["$rootScope","$scope","$location","Auth","Storage",function(t,e,o,r,n){}]).controller("LoginCtrl",["$rootScope","$scope","$location","Auth","$timeout","Storage",function(t,e,o,r,n,a){a.remove("user_auth"),e.login=function(t){t&&r.login(t).then(function(t){t&&(console.log(t),angular.element("#button-login").attr("disabled","disabled"),angular.element("#button-login").text("Please wait..."),n(function(){o.path("/app/dashboard")},2e3)),e.error_login=null},function(t){angular.element("#button-login").removeAttr("disabled"),e.error_login=t.error_login})}}]).controller("SignupCtrl",["$rootScope","$scope","$location","Storage","MyServices","$timeout",function(t,e,o,r,n,a){e.businessTypes=["Food & Beverages","Salons & Barbershops","Fashion & Apparel","Retail","Other"],n.getProvinces().then(function(t){e.provinces=t}),e.signup=function(t){e.username_exist=null,e.storename_exist=null,e.confpassword_match=null,e.min_length=null,t&&(angular.element("#button-signup").attr("disabled","disabled"),n.signup(t).then(function(t){t&&a(function(){o.path("/signup-success")},1e3)},function(t){angular.element("#button-signup").removeAttr("disabled"),e.username_exist=t.username,e.storename_exist=t.store_name,e.confpassword_match=t.confirm_password,e.min_length=t.min_length,console.log(t)}))}}]).controller("ProductCtrl",["$rootScope","$scope","$location","Auth","Storage","MyProductService",function(t,e,o,r,n,a){a.list().then(function(t){e.products=t.data})}]).controller("ExampleCtrl",["$rootScope","$scope","$location","Auth","Storage",function(t,e,o,r,n){}]).service("Auth",["$rootScope","$location","Storage","$q","$http",function(t,e,o,r,n){function a(t){return r(function(e,r){n.post("http://localhost:81/brillpos/api/v1/login",t).then(function(t){t.data.error?r(t.data.error):(e(t.data),o.set("user_auth",t.data))})})}return t.$on("$viewContentLoaded",function(r){$urlExecption=["/login","/signup","/signup-success"],$urlExecption.indexOf(e.path())<0&&o.get("user_auth").then(function(o){o?t.user=o:e.path("/login")})}),{login:a}}]).service("MyServices",["$q","$rootScope","$http",function(t,e,o){function r(){return t(function(t,e){o.get("http://localhost:81/brillpos/api/v1/br/provinces").then(function(e){t(e.data)})})}function n(e){return t(function(t,r){o.post("http://localhost:81/brillpos/api/v1/signup",e).then(function(e){e.data.error?r(e.data.error):t(e.data)})})}return{getProvinces:r,signup:n}}]).service("MyProductService",["$rootScope","$q","$http",function(t,e,o){function r(){return o.get("http://localhost:81/brillpos/api/v1/product/get")}return{list:r}}]).service("Storage",["$window","$q",function(t,e){return{get:function(o){var r=e.defer();return r.resolve(JSON.parse(t.localStorage.getItem(o))),r.promise},get_item:function(e){return JSON.parse(t.localStorage.getItem(e))},set:function(e,o){t.localStorage.setItem(e,angular.toJson(o))},remove:function(e){return t.localStorage.removeItem(e)}}}]).directive("head",["$rootScope","$compile","$location",function(t,e,o){return{restrict:"E",link:function(o,r,n){t.$on("$stateChangeSuccess",function(t,n,a,l,s,c){var i="undefined"!=typeof n.data?n.data.cssUrl:null,u='<link id="login-css" rel="stylesheet" type="text/css" href="'+i+'">',p='<link id="signup-css" rel="stylesheet" type="text/css" href="'+i+'">';"/login"==n.url?r.append(e(u)(o)):angular.element("#login-css")[0]&&angular.element("#login-css")[0].remove(),"/signup"==n.url?r.append(e(p)(o)):angular.element("#signup-css")[0]&&angular.element("#signup-css")[0].remove()})}}}]).factory("Interceptor",["$q","$location",function(t,e){return{request:function(t){},requestError:function(e){return t.reject(e)},response:function(t){return t},responseError:function(e){return t.reject(e)}}}]);